<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 다른 mapper와 중복되지 않도록 네임스페이스 기재 -->
<!-- mapper - mybatis, sqlMap - ibatis -->
<mapper namespace="notice">
  	
  	<!-- 공지글 조회 -->
	<select id="noticeList" resultType="com.shopping.dto.NoticeDTO">
		SELECT 
			NUM,
			TITLE,
			AUTHOR,
			REGDATE,
			VIEW_CNT,
			USEYN
		FROM NOTICE 
        WHERE USEYN = 'Y' ORDER BY NUM DESC
	</select>
	
	<insert id="insertNotice">
		INSERT INTO NOTICE
		(			
  		MEM_ID,				<!-- 사용자 아이디(FK) -->
  		PROD_NO,			<!-- 상품 고유 번호(FK) -->
  		PROD_NAME,			<!-- 상품명 -->
  		PRICE,				<!-- 상품 가격 -->
  		SIZE,				<!-- 상품 사이즈 -->
  		QUANTITY,			<!-- 상품 수량 -->
  		PROD_IMAGE,			<!-- 상품 이미지 -->
  		CREATED_DATE		<!-- 장비구나 생성일 -->
  		) VALUES (
  		#{mem_id},
  		#{prod_no},
  		#{prod_name},
  		#{price},
  		#{size},
  		#{quantity},
  		#{prod_image},
  		DATE_FORMAT(NOW(), '%Y%m%d%H%i%s'))
		
	</insert>
	
</mapper> 