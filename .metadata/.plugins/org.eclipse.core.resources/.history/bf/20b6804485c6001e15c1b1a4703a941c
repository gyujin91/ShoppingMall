<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 다른 mapper와 중복되지 않도록 네임스페이스 기재 -->
<!-- mapper - mybatis, sqlMap - ibatis -->
<mapper namespace="product">
  	
  	<!-- 메인화면 각각 4개씩 노출 -->
	<select id="productList" resultType="com.shopping.dto.ProductDTO">
	(SELECT 
		PROD_NO,
		PROD_NAME,
		PROD_KIND,
		PRICE,
		CATE_NO,
		PROD_CONTENT,
		PROD_IMAGE,
		REGDATE 
	FROM PRODUCT
	 	WHERE PROD_KIND = 'BOTTOM' AND USEYN = 'Y' LIMIT 4)
	 	
	 	UNION ALL
	
	(SELECT 
		PROD_NO,
		PROD_NAME,
		PROD_KIND,
		PRICE,
		CATE_NO,
		PROD_CONTENT,
		PROD_IMAGE,
		REGDATE 
	FROM PRODUCT
	 	WHERE PROD_KIND = 'COAT' AND USEYN = 'Y' LIMIT 4)
	 	
	 	UNION ALL
	 	
	 (SELECT 
		PROD_NO,
		PROD_NAME,
		PROD_KIND,
		PRICE,
		CATE_NO,
		PROD_CONTENT,
		PROD_IMAGE,
		REGDATE 
	FROM PRODUCT
	 	WHERE PROD_KIND = 'MANTOMAN' AND USEYN = 'Y' LIMIT 4)
	 	 	
	 	UNION ALL
	 	
	 (SELECT 
		PROD_NO,
		PROD_NAME,
		PROD_KIND,
		PRICE,
		CATE_NO,
		PROD_CONTENT,
		PROD_IMAGE,
		REGDATE 
	FROM PRODUCT
	 	WHERE PROD_KIND = 'ZIPUP' AND USEYN = 'Y' LIMIT 4)
	 	
	 	UNION ALL
	 	
	 (SELECT 
		PROD_NO,
		PROD_NAME,
		PROD_KIND,
		PRICE,
		CATE_NO,
		PROD_CONTENT,
		PROD_IMAGE,
		REGDATE 
	FROM PRODUCT
	 	WHERE PROD_KIND = 'HOOD' AND USEYN = 'Y' LIMIT 4)
	 	
	 	UNION ALL
	 	
	 (SELECT 
		PROD_NO,
		PROD_NAME,
		PROD_KIND,
		PRICE,
		CATE_NO,
		PROD_CONTENT,
		PROD_IMAGE,
		REGDATE 
	FROM PRODUCT
	 	WHERE PROD_KIND = 'OUTER' AND USEYN = 'Y' LIMIT 4)
	</select>
	
	<!-- 전체 아이템 리스트 -->
	<select id="itemListByCategory" resultType="com.shopping.dto.ProductDTO">
	    SELECT
	        PROD_NO,
	        PROD_NAME,
	        PROD_KIND,
	        PRICE,
	        CATE_NO,
	        PROD_CONTENT,
	        PROD_IMAGE,
	        REGDATE
	    FROM PRODUCT
	    	WHERE USEYN = 'Y'
<!-- 	    AND CATE_NO = #{cate_no}   -->
	</select>
	
	
	<!-- 제품 상세보기 -->
	<select id="productDetail" resultType="com.shopping.dto.ProductDTO">
		SELECT
			PROD_NO,
			PROD_NAME,
			PROD_KIND,
			PRICE,
			CATE_NO,
			PROD_CONTENT,
			PROD_IMAGE,
			REGDATE
		FROM PRODUCT
			WHERE PROD_NO = #{prod_no}
	</select>
</mapper> 